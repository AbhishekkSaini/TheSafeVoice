<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1">
    <title>Fix jQuery Conflict - SafeVoice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .status { padding: 12px; margin: 8px 0; border-radius: 6px; }
        .status-error { background: #fee; color: #c33; border: 1px solid #fcc; }
        .status-success { background: #efe; color: #3c3; border: 1px solid #cfc; }
        .status-info { background: #eef; color: #33c; border: 1px solid #ccf; }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8 text-center">Fix jQuery Conflict</h1>
        
        <div id="status-container" class="space-y-4"></div>
        
        <div class="bg-white p-6 rounded-lg shadow-md mt-8">
            <h2 class="text-xl font-semibold mb-4">What's Happening</h2>
            <p class="text-gray-700 mb-4">
                The error you're seeing is caused by a <strong>jQuery conflict</strong>. jQuery is being loaded somewhere 
                (possibly by a browser extension or another script) and it's trying to use an invalid CSS selector 
                <code>*,:x</code> which causes a syntax error.
            </p>
            
            <h3 class="text-lg font-semibold mb-2">How to Fix:</h3>
            <ol class="list-decimal list-inside space-y-2 text-gray-700">
                <li><strong>Disable browser extensions</strong> that might be injecting jQuery (like WhatRuns, etc.)</li>
                <li><strong>Clear browser cache</strong> and reload the page</li>
                <li><strong>Try incognito/private mode</strong> to see if the error persists</li>
                <li><strong>Check the console</strong> for any other JavaScript errors</li>
            </ol>
        </div>
        
        <div class="bg-white p-6 rounded-lg shadow-md mt-8">
            <h2 class="text-xl font-semibold mb-4">Test Forum Posting</h2>
            <p class="text-gray-700 mb-4">
                Once you've fixed the jQuery conflict, test your forum posting here:
            </p>
            <a href="debug-forum-posting.html" class="inline-block bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600">
                Test Forum Posting
            </a>
        </div>
    </div>

    <script>
        function addStatus(message, type = 'info') {
            const container = document.getElementById('status-container');
            const div = document.createElement('div');
            div.className = `status status-${type}`;
            div.textContent = message;
            container.appendChild(div);
        }

        // Check for jQuery
        if (window.jQuery) {
            addStatus('‚ùå jQuery detected - this is causing the conflict!', 'error');
            addStatus(`jQuery version: ${window.jQuery.fn.jquery}`, 'error');
            addStatus('Source: This might be from a browser extension or another script', 'error');
        } else {
            addStatus('‚úÖ No jQuery detected - this is good!', 'success');
        }

        // Check for other potential conflicts
        if (window.$ && !window.jQuery) {
            addStatus('‚ö†Ô∏è $ symbol is defined but not jQuery - might be a conflict', 'info');
        }

        // Check for browser extensions that might inject jQuery
        const extensions = [
            'WhatRuns',
            'BuiltWith',
            'Wappalyzer',
            'Lighthouse',
            'React Developer Tools',
            'Vue.js devtools'
        ];

        extensions.forEach(ext => {
            if (window[ext] || document.querySelector(`[data-${ext.toLowerCase()}]`)) {
                addStatus(`‚ö†Ô∏è ${ext} extension detected - might be injecting jQuery`, 'info');
            }
        });

        // Check for any existing errors
        window.addEventListener('error', (e) => {
            addStatus(`‚ùå JavaScript error: ${e.message}`, 'error');
            addStatus(`File: ${e.filename}`, 'error');
        });

        addStatus('üîç Checking for conflicts...', 'info');
    </script>
</body>
</html>
